{% extends 'main-template.html' %}

{% block title %}Detalhes do Produto{% endblock %}
{% block extra_style %}
  <style>
  .carousel-control-prev-icon,
    .carousel-control-next-icon {
      filter: invert(100%);
    }
    .nav-link {
      color: #676767;
    }
    .nav-link:hover {
      color: #000;
    }
  </style>
{% endblock %}

{% block content %}
<section id="detail">
  <div class="container-lg my-5">
    <div class="row">
      <div class="col-4"> <!-- Product Image Carrousel -->
        <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="{{ product.image_thumb }}" class="img-fluid" alt="...">
            </div>
            {% for extra_images in product.extra_images %}
            <div class="carousel-item">
              <img src="{{ extra_images }}" class="img-fluid" alt="...">
            </div>
            {% endfor %}
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div> <!-- Product Image Carrousel -->
      <div class="col-8 ps-3">
        <h2 class="fcs-12 poppins fw-bold text-truncate" id="productName">{{ product.name }}</h2>
        <div id="grade">
          {% for i in range(5) %}
            {% if i < product.grade.integer %}
              <i class="fas fa-star fcs-15 text-warning"></i>
            {% elif i == product.grade.integer and product.grade.decimal >= 3 %}
              <i class="fa-solid fa-star-half-stroke fcs-15 text-warning"></i>
            {% else %}
              <i class="fa-regular fa-star fcs-15 text-warning"></i>
            {% endif %}
          {% endfor %}
          <span class="fcs-15 roboto ">{{ product.grade }} ({{ product.reviews|length }} Reviews)</span>
        </div>
        <div id="price" class="mt-3">
          <span class="fcs-13 roboto fw-semibold">R$ {{ product.price.new }}</span>
          {% if product.price.old %}
            <del class="fcs-15 roboto fw-semibold text-danger ms-3">R$ {{ product.price.old }}</del>
          {% endif %}
        </div>
        <div id="description" class="mt-3" style="height: 7rem;">
          <p class="fcs-15 roboto">
            {{ product.description }}
          </p>
        </div>
        <div id="sizesOptions">
          <span class="fcs-15 roboto fw-bold me-4">Tamanho:</span>
          <div class="form-check d-inline-block me-4">
            <input class="form-check-input" type="radio" name="size" id="sizeP" checked>
            <label class="form-check-label" for="sizeP">
              P
            </label>
          </div>
          <div class="form-check d-inline-block me-4">
            <input class="form-check-input" type="radio" name="size" id="sizeM">
            <label class="form-check-label" for="sizeM">
              M
            </label>
          </div>
          <div class="form-check d-inline-block me-4">
            <input class="form-check-input" type="radio" name="size" id="sizeG">
            <label class="form-check-label" for="sizeG">
              G
            </label>
          </div>
          <div class="form-check d-inline-block me-4">
            <input class="form-check-input" type="radio" name="size" id="sizeGG">
            <label class="form-check-label" for="sizeGG">
              GG
            </label>
          </div>
        </div>
        <div id="colorOptions" class="mt-1">
          <span class="fcs-15 roboto fw-bold me-4">Cores:</span>
          <div class="form-check d-inline-block me-4">
            <input class="form-check-input" type="radio" name="color" id="colorBlack" checked>
            <label class="form-check-label" for="colorBlack">
              Preto
            </label>
          </div>
          <div class="form-check d-inline-block me-4">
            <input class="form-check-input" type="radio" name="color" id="colorWhite">
            <label class="form-check-label" for="colorWhite">
              Branco
            </label>
          </div>
          <div class="form-check d-inline-block me-4">
            <input class="form-check-input" type="radio" name="color" id="colorRed">
            <label class="form-check-label" for="colorRed">
              Vermelho
            </label>
          </div>
          <div class="form-check d-inline-block me-4">
            <input class="form-check-input" type="radio" name="color" id="colorBlue">
            <label class="form-check-label" for="colorBlue">
              Azul
            </label>
          </div>
          <div class="form-check d-inline-block me-4">
            <input class="form-check-input" type="radio" name="color" id="colorGreen">
            <label class="form-check-label" for="colorGreen">
              Verde
            </label>
          </div>
        </div>
        <div class="d-flex">
          <div class="input-group mt-3" style="width: 18%;">
            <button class="btn btn-outline-secondary" type="button" id="button-addon1"><i class="fas fa-minus"></i></button>
            <input type="text" class="form-control text-center fcs-15" placeholder="" aria-label="Example text with button addon" aria-describedby="button-addon1" value="1">
            <button class="btn btn-outline-secondary" type="button" id="button-addon2"><i class="fas fa-plus"></i></button>
          </div>
          <div class="ms-4 mt-3">
            <button class="btn btn-outline-dark roboto fcs-15">
              <i class="fas fa-shopping-cart"></i>
              Adicionar ao carrinho
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="row d-flex mt-5">
      <ul class="nav nav-tabs justify-content-center" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane" type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">Descrição</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">Informação</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link pe-0" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact-tab-pane" type="button" role="tab" aria-controls="contact-tab-pane" aria-selected="false">
            Avaliações
            <span class="top-0 start-100 translate-middle badge rounded-pill bg-dark">
              {{ product.reviews|length }}
            </span>
          </button>
        </li>
      </ul>
      <div class="tab-content mt-1" id="myTabContent">
        <div class="tab-pane fade show active roboto" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin feugiat nec tortor et commodo. Aenean non cursus nisl. Maecenas ac lacinia nisi. Cras aliquet elit lacus, in interdum diam tempus quis. Mauris in pretium tortor. Suspendisse non est nec felis vestibulum ornare vel non tellus. Etiam luctus turpis et purus fringilla, a dignissim nisi porttitor. Suspendisse vulputate purus sit amet enim ultrices venenatis.</div>
        <div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">Morbi ut feugiat nisl, sed rutrum enim. In convallis sapien sit amet risus vehicula, sit amet cursus nisl pellentesque. Ut ut eros sed est ornare accumsan a quis dui. Pellentesque finibus ipsum ut odio porta interdum. Vestibulum convallis, est id bibendum maximus, purus mi porta dolor, quis semper augue urna a lacus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Morbi quis fermentum quam. In varius id ipsum sed suscipit. Morbi congue malesuada est eu bibendum.</div>
        <div class="tab-pane fade" id="contact-tab-pane" role="tabpanel" aria-labelledby="contact-tab" tabindex="0">
          <div class="row m-3">
            <ul class="list-inline">
              {% for review in product.reviews %}
                <li class="list-inline-item" style="width: 49% !important;">
                <div class="userReview">
                  <p class="fw-bold roboto mb-0 text-truncate">{{ review.author }}<span class="fw-light fst-italic"> - {{ review.date }}</span></p>
                  <div class="userRating">
                    {% for i in range(5) %}
                      {% if i < review.grade.integer %}
                        <i class="fas fa-star text-warning"></i>
                      {% elif i == review.grade.integer and review.grade.decimal >= 3 %}
                        <i class="fa-solid fa-star-half-stroke text-warning"></i>
                      {% else %}
                        <i class="fa-regular fa-star text-warning"></i>
                      {% endif %}
                    {% endfor %}
                  </div>
                  <p class="comment roboto text-truncate">{{ review.content }}</p>
                </div>
              </li>
              {% endfor %}
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}